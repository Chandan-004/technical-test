

## STRIPE ANSWER ->  a. initiation -> when the user clicks "Pay", I frist inserts the row into "payments_requests" wtih "application_id" and set status to pending, b. Stripe call-> now after this I call "stripe.checkout.sessions.create" on backend, passing the internal payment_request.id into Stripe session's metadata object to preserve state, c. Storage-> I store the returned Stripe session.id in "payment_requests" table to link external session with my internal record, then redirect the user to the Stripe URL d. Webhooks-> I set up a webhook endpoint listening for checkout.session.completed event to handle success asynchronously and in a secure way, e. Verification-> Inside the webhook, I verify the Stripe signature to verify that the request is authentic, then extract the "payment_request.id" from the metadata, f. Update-> Using the ID from metadata, I query whole payment_requests table. If the status is not paid till then,so I update it to paid and update the corresponding applications row status to submitted inside a transaction.

